/*! gulp-start v0.0.1 | (c) 2020 Bulat | MIT License | https://github.com/BulatSa/gulp-start */
/*! gulp-start v0.0.1 | (c) 2020 Bulat | MIT License | https://github.com/BulatSa/gulp-start */
function initFancy(){$(".fancy").fancybox({buttons:["close"]}),$(".fancy-modal").fancybox({selector:"",touch:!1}),$(".fancy-map").fancybox({toolbar:!1,smallBtn:!0,defaultType:"iframe"}),$(".fancy-video").fancybox({toolbar:!1,smallBtn:!0,youtube:{controls:1,showinfo:0,autoplay:1}})}$((function(){document.querySelectorAll(".descr");const e=document.querySelectorAll(".project_info-headphones"),t=(document.querySelectorAll(".project_draw"),new SpeechSynthesisUtterance);function s(){if(this.classList.contains("play"))return speechSynthesis.pause(),this.classList.remove("play"),void this.classList.add("pause");if(this.classList.contains("pause"))return speechSynthesis.resume(),this.classList.remove("pause"),this.classList.add("play"),void setTimeout((function(){}),1e4);e.forEach((function(e){e.classList.remove("pause"),e.classList.remove("play")})),speechSynthesis.cancel(),this.classList.add("play");const s=this.parentNode.querySelector(".project_descr").textContent.split(". ");t.text=s[0],t.onend=()=>{0!=s.length?(s.splice(0,1),t.text=s[0],speechSynthesis.speak(t)):(speechSynthesis.cancel(),this.classList.remove("play"))},speechSynthesis.speak(t)}t.lang="ru-RU",e.forEach((function(e){e.addEventListener("click",s)}))})),$.fancybox.defaults.backFocus=!1,$.fancybox.defaults.autoFocus=!1,$.fancybox.defaults.lang="ru",$.fancybox.defaults.i18n={ru:{CLOSE:"Закрыть",NEXT:"Дальше",PREV:"Назад",ERROR:"Не удается загрузить. <br/> Попробуйте позднее.",PLAY_START:"Начать слайдшоу",PLAY_STOP:"Остановить слайдшоу",FULL_SCREEN:"На весь экран",THUMBS:"Превью"}},$((function(){initFancy()})),$((function(){$(".scrollto").on("click",(function(){const e=$(this).attr("href"),t=$(e).offset().top;return $("html,body").stop().animate({scrollTop:t},1e3),!1}))})),$((function(){$(".anim").waypoint((function(){$(this.element).toggleClass("animated")}),{offset:"85%"})}));